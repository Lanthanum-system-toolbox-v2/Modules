!module
class=io
!view
view=title
text=Fsync
@show
echo true
@show
!view

!view
view=subtitle
text=Disable to improve file system performance but increase the probability of data corruption when an error occurs\n (provided by a third-party kernel)
@show
echo true
@show

!view

!view
view=switch
text=Enable

@show
if [ -e /sys/module/sync/parameters/fsync_enabled ]
then
echo true
fi
@show

@current
if [ `cat /sys/module/sync/parameters/fsync_enabled` == "Y" ]
then
echo true
fi
@current

core=true

root=true

@click
if [ $switch == 1 ]
then
echo Y > /sys/module/sync/parameters/fsync_enabled
else
echo N > /sys/module/sync/parameters/fsync_enabled
fi
@click
!view

!module